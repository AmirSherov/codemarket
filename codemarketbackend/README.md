# CodeMarket Backend

Бэкенд для проекта CodeMarket на Django 5.2 с использованием Django REST Framework.

## Настройка проекта

1. Клонировать репозиторий
2. Создать виртуальное окружение
3. Установить зависимости:
   ```
   pip install -r requirements.txt
   ```
4. Применить миграции:
   ```
   python manage.py migrate
   ```
5. Запустить сервер:
   ```
   python manage.py runserver
   ```

## Система аутентификации

В проекте используется JWT аутентификация с проверкой подтверждения электронной почты.

### Особенности:

- Пользователи должны подтвердить свой email перед входом в систему
- Коды подтверждения имеют срок действия 30 минут
- Неподтвержденные аккаунты можно автоматически удалять через определенное время

## Обслуживание базы данных

### Очистка неподтвержденных аккаунтов

Команда для удаления неподтвержденных аккаунтов, которые были созданы более 7 дней назад:

```
python manage.py cleanup_unverified_users
```

Опции команды:
- `--days=N`: Количество дней, после которых неподтвержденные аккаунты будут удалены (по умолчанию 7)
- `--dry-run`: Тестовый режим, показывает аккаунты которые будут удалены, но не удаляет их

Примеры:
```
# Удалить аккаунты старше 14 дней
python manage.py cleanup_unverified_users --days=14

# Показать аккаунты старше 3 дней (без удаления)
python manage.py cleanup_unverified_users --days=3 --dry-run
```

Рекомендуется настроить регулярное выполнение этой команды через cron или другой планировщик задач. 